"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = buildFetchOptions;var _constants = require("../lib/constants");
var _fieldsOperations = require("../lib/fieldsOperations");

var fetchDefaults = {
  credentials: 'same-origin',
  headers: {
    Accept: 'application/json',
    'Content-Type': 'application/json' } };



function buildFetchOptions(options, action, method) {
  var fetchAction = options.injectAction(action);
  var fetchOptions = options.fetchOptions || fetchDefaults;
  var json = (0, _fieldsOperations.parseVirtualData)(fetchAction, options);
  fetchOptions.method = method;
  if (fetchOptions.method != _constants.FetchMethodEnum.GET)
  fetchOptions.body = JSON.stringify(json);
  return fetchOptions;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9kaXNwYXRjaC9idWlsZEZldGNoT3B0aW9ucy5qcyJdLCJuYW1lcyI6WyJmZXRjaERlZmF1bHRzIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiQWNjZXB0IiwiYnVpbGRGZXRjaE9wdGlvbnMiLCJvcHRpb25zIiwiYWN0aW9uIiwibWV0aG9kIiwiZmV0Y2hBY3Rpb24iLCJpbmplY3RBY3Rpb24iLCJmZXRjaE9wdGlvbnMiLCJqc29uIiwiRmV0Y2hNZXRob2RFbnVtIiwiR0VUIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiIrR0FBQTtBQUNBOztBQUVBLElBQU1BLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsV0FBVyxFQUFFLGFBRE87QUFFcEJDLEVBQUFBLE9BQU8sRUFBRTtBQUNQQyxJQUFBQSxNQUFNLEVBQUUsa0JBREQ7QUFFUCxvQkFBZ0Isa0JBRlQsRUFGVyxFQUF0Qjs7OztBQVFlLFNBQVNDLGlCQUFULENBQTJCQyxPQUEzQixFQUFvQ0MsTUFBcEMsRUFBNENDLE1BQTVDLEVBQW9EO0FBQ2pFLE1BQUlDLFdBQVcsR0FBR0gsT0FBTyxDQUFDSSxZQUFSLENBQXFCSCxNQUFyQixDQUFsQjtBQUNBLE1BQUlJLFlBQVksR0FBR0wsT0FBTyxDQUFDSyxZQUFSLElBQXdCVixhQUEzQztBQUNBLE1BQUlXLElBQUksR0FBRyx3Q0FBaUJILFdBQWpCLEVBQThCSCxPQUE5QixDQUFYO0FBQ0FLLEVBQUFBLFlBQVksQ0FBQ0gsTUFBYixHQUFzQkEsTUFBdEI7QUFDQSxNQUFJRyxZQUFZLENBQUNILE1BQWIsSUFBdUJLLDJCQUFnQkMsR0FBM0M7QUFDRUgsRUFBQUEsWUFBWSxDQUFDSSxJQUFiLEdBQW9CQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUwsSUFBZixDQUFwQjtBQUNGLFNBQU9ELFlBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZldGNoTWV0aG9kRW51bSB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBwYXJzZVZpcnR1YWxEYXRhIH0gZnJvbSAnLi4vbGliL2ZpZWxkc09wZXJhdGlvbnMnO1xyXG5cclxuY29uc3QgZmV0Y2hEZWZhdWx0cyA9IHtcclxuICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZEZldGNoT3B0aW9ucyhvcHRpb25zLCBhY3Rpb24sIG1ldGhvZCkge1xyXG4gIGxldCBmZXRjaEFjdGlvbiA9IG9wdGlvbnMuaW5qZWN0QWN0aW9uKGFjdGlvbik7XHJcbiAgbGV0IGZldGNoT3B0aW9ucyA9IG9wdGlvbnMuZmV0Y2hPcHRpb25zIHx8IGZldGNoRGVmYXVsdHM7XHJcbiAgbGV0IGpzb24gPSBwYXJzZVZpcnR1YWxEYXRhKGZldGNoQWN0aW9uLCBvcHRpb25zKTtcclxuICBmZXRjaE9wdGlvbnMubWV0aG9kID0gbWV0aG9kO1xyXG4gIGlmIChmZXRjaE9wdGlvbnMubWV0aG9kICE9IEZldGNoTWV0aG9kRW51bS5HRVQpXHJcbiAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGpzb24pO1xyXG4gIHJldHVybiBmZXRjaE9wdGlvbnM7XHJcbn0iXX0=